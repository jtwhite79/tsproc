START SETTINGS
# CONTEXT pest_input
  CONTEXT all
  DATE_FORMAT mm/dd/yyyy
END SETTINGS


###########################################################################
# Process ALL STATVAR file data....
###########################################################################
#==> Read in STATVAR variables
START GET_MUL_SERIES_STATVAR
  CONTEXT all
  FILE statvar.dat
  VARIABLE_NAME pk_depth
  LOCATION_ID 289
  NEW_SERIES_NAME Sstruaxi
  VARIABLE_NAME orad
  LOCATION_ID 1
  NEW_SERIES_NAME Soradi
  VARIABLE_NAME basin_potet
  LOCATION_ID 1
  NEW_SERIES_NAME Sethayi
END GET_MUL_SERIES_STATVAR

###########################################################################
# Process observed and simulated data:
# BLACK EARTH CREEK AT BLACK EARTH (05406500)
###########################################################################

#==> Read in SIMULATED data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START GET_MUL_SERIES_GSFLOW_GAGE
  CONTEXT all
  FILE bec_205406500.ggo
  DATA_TYPE flow
  NEW_SERIES_NAME Sq6500i
  MODEL_REFERENCE_DATE 01/01/1985
  MODEL_REFERENCE_TIME 00:00:00
END GET_MUL_SERIES_GGO


#==> Read in OBSERVED data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_BEC_BE_6500.ssf
  SITE 05406500
  NEW_SERIES_NAME Oq6500i
END GET_MUL_SERIES_SSF

#==> Clean OBSERVED time-series data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq6500i
  NEW_SERIES_NAME Oq6500c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Reduce OBSERVED time-series data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq6500c
  NEW_SERIES_NAME Oq6500_1   Oq6500_2
  DATE_1          10/01/1987 10/01/1999
  DATE_2          09/30/1999 09/30/2007
END REDUCE_TIME_SPAN

#==> Log transform: OBSERVED time-series data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq6500_1 LOq6500_2
EQUATION log10(Oq6500_1) log10(O26500_2)
END SERIES_EQUATION

#==> Clean SIMULATED time-series data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Sq6500i
  NEW_SERIES_NAME Sq6500c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Calc new time base: SIMULATED time-series data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq6500c
  TB_SERIES_NAME Oq6500_1 Oq6500_2
  NEW_SERIES_NAME Sq6500_1 Sq6500_2
END NEW_TIME_BASE

#==> Log transform: SIMULATED time-series data for BLACK EARTH CREEK AT BLACK EARTH (05406500)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq6500_1 LSq6500_2
EQUATION log10(Sq6500_1) (log10(Sq6500_2)
END SERIES_EQUATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME      Oq6500_2 Sq6500_2 
  NEW_V_TABLE_NAME  MOq6500  MSq6500
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_6500.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq6500_2 Sq6500_2
  NEW_V_TABLE_NAME AOq6500 ASq6500
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_6500_ANN.txt
END VOLUME_CALCULATION

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# BREWERY CREEK (05406470)
###########################################################################

#==> Read in SIMULATED data for BREWERY CREEK (05406470)
START GET_MUL_SERIES_GSFLOW_GAGE
  CONTEXT all
  FILE brewery05406470Feb05.ggo
  DATA_TYPE flow
  NEW_SERIES_NAME Sq6470i
  MODEL_REFERENCE_DATE 01/01/1985
  MODEL_REFERENCE_TIME 00:00:00
END GET_MUL_SERIES_GGO

#==> Read in OBSERVED data for BREWERY CREEK (05406470)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_BreweryCk_6470.ssf
  SITE 05406470
  NEW_SERIES_NAME Oq6470i
END GET_MUL_SERIES_SSF

#==> Clean OBSERVED time-series data for BREWERY CREEK (05406470)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq6470i
  NEW_SERIES_NAME Oq6470c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Reduce OBSERVED time-series data for BREWERY CREEK (05406470)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq6470c
  NEW_SERIES_NAME Oq6470_1
  DATE_1 10/01/1987
  DATE_2 09/30/1999
END REDUCE_TIME_SPAN

#==> Reduce OBSERVED time-series data for BREWERY CREEK (05406470)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq6470c
  NEW_SERIES_NAME Oq6470_2
  DATE_1 10/01/1999
  DATE_2 09/30/2005
END REDUCE_TIME_SPAN


#==> Log transform: OBSERVED time-series data for BREWERY CREEK (05406470)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq6470_1
EQUATION log10(Oq6470_1)
END SERIES_EQUATION

#==> Log transform: OBSERVED time-series data for BREWERY CREEK (05406470)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq6470_2
EQUATION log10(Oq6470_2)
END SERIES_EQUATION

#==> Clean SIMULATED time-series data for BREWERY CREEK (05406470)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Sq6470i
  NEW_SERIES_NAME Sq6470c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Calc new time base: SIMULATED time-series data for BREWERY CREEK (05406470)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq6470c
  TB_SERIES_NAME Oq6470_1
  NEW_SERIES_NAME Sq6470_1
END NEW_TIME_BASE

#==> Calc new time base: SIMULATED time-series data for BREWERY CREEK (05406470)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq6470c
  TB_SERIES_NAME Oq6470_2
  NEW_SERIES_NAME Sq6470_2
END NEW_TIME_BASE

#==> Log transform: SIMULATED time-series data for BREWERY CREEK (05406470)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq6470_1
EQUATION log10(Sq6470_1)
END SERIES_EQUATION

#==> Log transform: SIMULATED time-series data for BREWERY CREEK (05406470)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq6470_2
EQUATION log10(Sq6470_2)
END SERIES_EQUATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq6470_2
  NEW_V_TABLE_NAME MOq6470
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_6470.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq6470_2
  NEW_V_TABLE_NAME MSq6470
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_6470.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq6470_2
  NEW_V_TABLE_NAME AOq6470
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_6470_ANN.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq6470_2
  NEW_V_TABLE_NAME ASq6470
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_6470_ANN.txt
END VOLUME_CALCULATION

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# GARFOOT CREEK (05406491)
###########################################################################

#==> Read in SIMULATED data for GARFOOT CREEK (05406491)
START GET_MUL_SERIES_GSFLOW_GAGE
  CONTEXT all
  FILE Garfoot12.ggo
  DATA_TYPE flow
  NEW_SERIES_NAME Sq6491i
  MODEL_REFERENCE_DATE 01/01/1985
  MODEL_REFERENCE_TIME 00:00:00
END GET_MUL_SERIES_GGO

#==> Read in OBSERVED data for GARFOOT CREEK (05406491)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_GarfootCk_6491.ssf
  SITE 05406491
  NEW_SERIES_NAME Oq6491i
END GET_MUL_SERIES_SSF

#==> Clean OBSERVED time-series data for GARFOOT CREEK (05406491)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq6491i
  NEW_SERIES_NAME Oq6491c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Reduce OBSERVED time-series data for GARFOOT CREEK (05406491)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq6491c
  NEW_SERIES_NAME Oq6491_1
  DATE_1 10/01/1988
  DATE_2 09/30/1994
END REDUCE_TIME_SPAN

#==> Read in OBSERVED data for new GARFOOT CREEK (054064915)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_GarfootCk_64915_2005.ssf
  SITE 054064915
  NEW_SERIES_NAME Oq64915i
END GET_MUL_SERIES_SSF

#==> Clean OBSERVED time-series data for new GARFOOT CREEK (054064915)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq64915i
  NEW_SERIES_NAME Oq64915c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Reduce OBSERVED time-series data for new GARFOOT CREEK (054064915)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq64915c
  NEW_SERIES_NAME Oq6491_2
  DATE_1 11/10/2004
  DATE_2 09/30/2005
END REDUCE_TIME_SPAN

#==> Log transform: OBSERVED time-series data for GARFOOT CREEK (05406491)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq6491_1
EQUATION log10(Oq6491_1)
END SERIES_EQUATION

#==> Log transform: OBSERVED time-series data for GARFOOT CREEK (05406491)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq6491_2
EQUATION log10(Oq6491_2)
END SERIES_EQUATION

#==> Clean SIMULATED time-series data for GARFOOT CREEK (05406491)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Sq6491i
  NEW_SERIES_NAME Sq6491c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Calc new time base: SIMULATED time-series data for GARFOOT CREEK (05406491)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq6491c
  TB_SERIES_NAME Oq6491_1
  NEW_SERIES_NAME Sq6491_1
END NEW_TIME_BASE

#==> Calc new time base: SIMULATED time-series data GARFOOT CREEK (05406491)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq6491c
  TB_SERIES_NAME Oq6491_2
  NEW_SERIES_NAME Sq6491_2
END NEW_TIME_BASE

#==> Log transform: SIMULATED time-series data for GARFOOT CREEK (05406491)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq6491_1
EQUATION log10(Sq6491_1)
END SERIES_EQUATION

#==> Log transform: SIMULATED time-series data for GARFOOT CREEK (05406491)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq6491_2
EQUATION log10(Sq6491_2)
END SERIES_EQUATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq6491_2
  NEW_V_TABLE_NAME MOq6491
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_6491.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq6491_2
  NEW_V_TABLE_NAME MSq6491
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_6491.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq6491_2
  NEW_V_TABLE_NAME AOq6491
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_6491_ANN.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq6491_2
  NEW_V_TABLE_NAME ASq6491
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_6491_ANN.txt
END VOLUME_CALCULATION

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# PHEASANT BRANCH AT MIDDLETON (05427948)
###########################################################################

#==> Read in SIMULATED data for PHEASANT BRANCH AT MIDDLETON (05427948)
START GET_MUL_SERIES_GSFLOW_GAGE
  CONTEXT all
  FILE ph_br_hwy12.ggo
  DATA_TYPE flow
  NEW_SERIES_NAME Sq7948i
  MODEL_REFERENCE_DATE 01/01/1985
  MODEL_REFERENCE_TIME 00:00:00
END GET_MUL_SERIES_GGO

#==> Read in OBSERVED data for PHEASANT BRANCH AT MIDDLETON (05427948)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_PheasBr_7948.ssf
  SITE 05427948
  NEW_SERIES_NAME Oq7948i
END GET_MUL_SERIES_SSF

#==> Clean OBSERVED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq7948i
  NEW_SERIES_NAME Oq7948c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Reduce OBSERVED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq7948c
  NEW_SERIES_NAME Oq7948_1
  DATE_1 10/01/1987
  DATE_2 09/30/1999
END REDUCE_TIME_SPAN

#==> Reduce OBSERVED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq7948c
  NEW_SERIES_NAME Oq7948_2
  DATE_1 10/01/1999
  DATE_2 09/30/2007
END REDUCE_TIME_SPAN

#==> Log transform: OBSERVED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq7948_1
EQUATION log10(Oq7948_1)
END SERIES_EQUATION

#==> Log transform: OBSERVED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq7948_2
EQUATION log10(Oq7948_2)
END SERIES_EQUATION

#==> Clean SIMULATED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Sq7948i
  NEW_SERIES_NAME Sq7948c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Calc new time base: SIMULATED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq7948c
  TB_SERIES_NAME Oq7948_1
  NEW_SERIES_NAME Sq7948_1
END NEW_TIME_BASE

#==> Calc new time base: SIMULATED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq7948c
  TB_SERIES_NAME Oq7948_2
  NEW_SERIES_NAME Sq7948_2
END NEW_TIME_BASE

#==> Log transform: SIMULATED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq7948_1
EQUATION log10(Sq7948_1)
END SERIES_EQUATION

#==> Log transform: SIMULATED time-series data for PHEASANT BRANCH AT MIDDLETON (05427948)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq7948_2
EQUATION log10(Sq7948_2)
END SERIES_EQUATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq7948_2
  NEW_V_TABLE_NAME MOq7948
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_7948.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq7948_2
  NEW_V_TABLE_NAME MSq7948
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_7948.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq7948_2
  NEW_V_TABLE_NAME AOq7948
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_7948_ANN.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq7948_2
  NEW_V_TABLE_NAME ASq7948
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_7948_ANN.txt
END VOLUME_CALCULATION

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# BLACK EARTH CREEK AT MAZOMANIE (05406540)
###########################################################################

#==> Read in SIMULATED data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START GET_MUL_SERIES_GSFLOW_GAGE
  CONTEXT all
  FILE BEC20.ggo
  DATA_TYPE flow
  NEW_SERIES_NAME Sq6540i
  MODEL_REFERENCE_DATE 01/01/1985
  MODEL_REFERENCE_TIME 00:00:00
END GET_MUL_SERIES_GGO

#==> Read in OBSERVED data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_BEC_Mazo_6540.ssf
  SITE 05406540
  NEW_SERIES_NAME Oq6540i
END GET_MUL_SERIES_SSF

#==> Clean OBSERVED time-series data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq6540i
  NEW_SERIES_NAME Oq6540c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Reduce OBSERVED time-series data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq6540c
  NEW_SERIES_NAME Oq6540_2
  DATE_1 11/11/2004
  DATE_2 09/30/2005
END REDUCE_TIME_SPAN

#==> Log transform: OBSERVED time-series data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq6540_2
EQUATION log10(Oq6540_2)
END SERIES_EQUATION

#==> Clean SIMULATED time-series data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Sq6540i
  NEW_SERIES_NAME Sq6540c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Calc new time base: SIMULATED time-series data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq6540c
  TB_SERIES_NAME Oq6540_2
  NEW_SERIES_NAME Sq6540_2
END NEW_TIME_BASE

#==> Log transform: SIMULATED time-series data for BLACK EARTH CREEK AT MAZOMANIE (05406540)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq6540_2
EQUATION log10(Sq6540_2)
END SERIES_EQUATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq6540_2
  NEW_V_TABLE_NAME MOq6540
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_6540.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq6540_2
  NEW_V_TABLE_NAME MSq6540
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_6540.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq6540_2
  NEW_V_TABLE_NAME AOq6540
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_6540_ANN.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq6540_2
  NEW_V_TABLE_NAME ASq6540
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_6540_ANN.txt
END VOLUME_CALCULATION

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# VERMONT CREEK AT HY KP (054065145)
###########################################################################

#==> Read in SIMULATED data for VERMONT CREEK AT HY KP (054065145)
START GET_MUL_SERIES_GSFLOW_GAGE
  CONTEXT all
  FILE Vermont15.ggo
  DATA_TYPE flow
  NEW_SERIES_NAME Sq65145i
  MODEL_REFERENCE_DATE 01/01/1985
  MODEL_REFERENCE_TIME 00:00:00
END GET_MUL_SERIES_GGO

#==> Read in OBSERVED data for VERMONT CREEK AT HY KP (054065145)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_Vermont_HYKP_65145.ssf
  SITE 054065145
  NEW_SERIES_NAME Oq65145i
END GET_MUL_SERIES_SSF

#==> Reduce OBSERVED time-series data for VERMONT CREEK AT HY KP (054065145)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq65145i
  NEW_SERIES_NAME Oq65145r
  DATE_1 11/10/2004
  DATE_2 09/30/2005
END REDUCE_TIME_SPAN

#==> Clean OBSERVED time-series data for VERMONT CREEK AT HY KP (054065145)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq65145r
  NEW_SERIES_NAME Oq65145_2
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Log transform: OBSERVED time-series data for VERMONT CREEK AT HY KP (054065145)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq65145_2
EQUATION log10(Oq65145_2)
END SERIES_EQUATION

#==> Clean SIMULATED time-series data for VERMONT CREEK AT HY KP (054065145)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Sq65145i
  NEW_SERIES_NAME Sq65145c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Calc new time base: SIMULATED time-series data for VERMONT CREEK AT HY KP (054065145)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq65145c
  TB_SERIES_NAME Oq65145_2
  NEW_SERIES_NAME Sq65145_2
END NEW_TIME_BASE

#==> Log transform: SIMULATED time-series data for VERMONT CREEK AT HY KP (054065145)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq65145_2
EQUATION log10(Sq65145_2)
END SERIES_EQUATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq65145_2
  NEW_V_TABLE_NAME MOq65145
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_65145.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq65145_2
  NEW_V_TABLE_NAME MSq65145
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_65145.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq65145_2
  NEW_V_TABLE_NAME AOq65145
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_65145_ANN.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq65145_2
  NEW_V_TABLE_NAME ASq65145
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_65145_ANN.txt
END VOLUME_CALCULATION

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# HALFWAY PRAIRIE CREEK @ FARMHOUSE (054065199)
###########################################################################

#==> Read in OBSERVED data for VERMONT CREEK AT HY KP (054065199)
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE Q_Halfway_Farmhouse_65199_trunc.ssf
  SITE 054065199
  NEW_SERIES_NAME Oq65199i
END GET_MUL_SERIES_SSF

#==> Reduce OBSERVED time-series data for VERMONT CREEK AT HY KP (054065199)
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Oq65199i
  NEW_SERIES_NAME Oq65199r
  DATE_1 04/01/1995
  DATE_2 06/30/1997
END REDUCE_TIME_SPAN

#==> Clean OBSERVED time-series data for VERMONT CREEK AT HY KP (054065199)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Oq65199r
  NEW_SERIES_NAME Oq65199_1
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Log transform: OBSERVED time-series data for VERMONT CREEK AT HY KP (054065199)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LOq65199_1
EQUATION log10(Oq65199_1)
END SERIES_EQUATION

#==> Clean SIMULATED time-series data for VERMONT CREEK AT HY KP (054065199)
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Sq65199i
  NEW_SERIES_NAME Sq65199c
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.0
END SERIES_CLEAN

#==> Calc new time base: SIMULATED time-series data for VERMONT CREEK AT HY KP (054065199)
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sq65199c
  TB_SERIES_NAME Oq65199_1
  NEW_SERIES_NAME Sq65199_1
END NEW_TIME_BASE

#==> Log transform: SIMULATED time-series data for VERMONT CREEK AT HY KP (054065199)
START SERIES_EQUATION
CONTEXT all
NEW_SERIES_NAME LSq65199_1
EQUATION log10(Sq65199_1)
END SERIES_EQUATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq65199_1
  NEW_V_TABLE_NAME MOq65199
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_65199.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq65199_1
  NEW_V_TABLE_NAME MSq65199
  FLOW_TIME_UNITS days
  FACTOR 3.2854E-2
  DATE_FILE dates_65199.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Oq65199_1
  NEW_V_TABLE_NAME AOq65199
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_65199_ANN.txt
END VOLUME_CALCULATION

START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Sq65199_1
  NEW_V_TABLE_NAME ASq65199
  FLOW_TIME_UNITS days
  FACTOR 2.7379E-3
  DATE_FILE dates_65199_ANN.txt
END VOLUME_CALCULATION

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# DANE COUNTY REGIONAL AIRPORT
###########################################################################

#==> Read in OBSERVED data for DANE COUNTY REGIONAL AIRPORT
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE DANE_CO_TRUAX_FIELD_SNOW_INCHES.ssf
  SITE truax
  NEW_SERIES_NAME Ostruaxi
END GET_MUL_SERIES_SSF

#==> Clean OBSERVED time-series data for DANE COUNTY REGIONAL AIRPORT
START SERIES_CLEAN
  CONTEXT all
  SERIES_NAME Ostruaxi
  NEW_SERIES_NAME Ostruaxc
  SUBSTITUTE_VALUE delete
  UPPER_ERASE_BOUNDARY 0.1
END SERIES_CLEAN

#==> Reduce OBSERVED time-series data for DANE COUNTY REGIONAL AIRPORT
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Ostruaxc
  NEW_SERIES_NAME Ostruax_1
  DATE_1 10/01/1985
  DATE_2 09/30/1999
END REDUCE_TIME_SPAN

#==> Reduce OBSERVED time-series data for DANE COUNTY REGIONAL AIRPORT
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Ostruaxc
  NEW_SERIES_NAME Ostruax_2
  DATE_1 10/01/1999
  DATE_2 09/30/2007
END REDUCE_TIME_SPAN

#==> Calc new time base: SIMULATED time-series data for DANE COUNTY REGIONAL AIRPORT
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sstruaxi
  TB_SERIES_NAME Ostruax_1
  NEW_SERIES_NAME Sstruax_1
END NEW_TIME_BASE

#==> Calc new time base: SIMULATED time-series data for DANE COUNTY REGIONAL AIRPORT
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Sstruaxi
  TB_SERIES_NAME Ostruax_2
  NEW_SERIES_NAME Sstruax_2
END NEW_TIME_BASE

# --------------------------------------------------------------------------

###########################################################################
# Process observed and simulated data:
# Hay monthly solar radiation and potential energy
###########################################################################

#==> Read in OBSERVED data from ??? - SOLAR RADIATION
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE hay_sr_obs.ssf
  SITE SolRad
  NEW_SERIES_NAME Osolradi
END GET_MUL_SERIES_SSF

#==> Reduce OBSERVED time-series data for ???
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME Osolradi
  NEW_SERIES_NAME Osolrad_2
  DATE_1 10/01/1999
  DATE_2 09/30/2007
END REDUCE_TIME_SPAN

#==> Calc monthly average: SIMULATED time-series data for ???
START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME Soradi
  FLOW_TIME_UNITS days
  DATE_FILE dates_srpe.txt
  FACTOR 3.2854E-02
  NEW_V_TABLE_NAME V_Sorad
END VOLUME_CALCULATION

#==> Convert the volume table to a time series.
START V_TABLE_TO_SERIES
  CONTEXT all
  V_TABLE_NAME V_Sorad
  NEW_SERIES_NAME Ssolrad
  TIME_ABSCISSA start
END V_TABLE_TO_SERIES

#==> Reduce SIMULATED time-series data for ???
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME Ssolrad
  TB_SERIES_NAME Osolrad_2
  NEW_SERIES_NAME Ssolrad_2
END NEW_TIME_BASE

#==> Read in OBSERVED data from Farnsworth -- Potential ET
START GET_MUL_SERIES_SSF
  CONTEXT all
  FILE hay_pe_obs.ssf
  SITE PotET
  NEW_SERIES_NAME OEThayi
END GET_MUL_SERIES_SSF

#==> Reduce OBSERVED time-series data for Farnsworth
START REDUCE_TIME_SPAN
  CONTEXT all
  SERIES_NAME OEThayi
  NEW_SERIES_NAME OEThay_2
  DATE_1 10/01/1999
  DATE_2 09/30/2007
END REDUCE_TIME_SPAN

#==> Calc monthly average: SIMULATED time-series data for ???
START VOLUME_CALCULATION
  CONTEXT all
  SERIES_NAME SEThayi
  FLOW_TIME_UNITS days
  DATE_FILE dates_srpe.txt
  FACTOR 1
  NEW_V_TABLE_NAME V_OEThay
END VOLUME_CALCULATION

#==> Convert the volume table to a time series.
START V_TABLE_TO_SERIES
  CONTEXT all
  V_TABLE_NAME V_OEThay
  NEW_SERIES_NAME SEThay
  TIME_ABSCISSA start
END V_TABLE_TO_SERIES

#==> Reduce SIMULATED time-series data for ???
START NEW_TIME_BASE
  CONTEXT all
  SERIES_NAME SEThay
  TB_SERIES_NAME OEThay_2
  NEW_SERIES_NAME SEThay_2
END NEW_TIME_BASE


# --------------------------------------------------------------------------

START LIST_OUTPUT
  CONTEXT all
  FILE cal_bec_group2.txt
  V_TABLE_NAME ASq6500
  V_TABLE_NAME ASq6470
  V_TABLE_NAME ASq6491
  V_TABLE_NAME ASq6540
  V_TABLE_NAME ASq7948
  V_TABLE_NAME ASq65145
  V_TABLE_NAME ASq65199
  V_TABLE_NAME MSq6500
  V_TABLE_NAME MSq6470
  V_TABLE_NAME MSq6491
  V_TABLE_NAME MSq6540
  V_TABLE_NAME MSq7948
  V_TABLE_NAME MSq65145
  V_TABLE_NAME MSq65199
  SERIES_NAME Sq6491_1
  SERIES_NAME Sq6491_2
  SERIES_NAME Sq6470_1
  SERIES_NAME Sq6470_2
  SERIES_NAME Sq6500_1
  SERIES_NAME Sq6500_2
  SERIES_NAME Sq6540_2
  SERIES_NAME Sq7948_1
  SERIES_NAME Sq7948_2
  SERIES_NAME Sq65145_2
  SERIES_NAME Sq65199_1
  SERIES_NAME LSq6491_1
  SERIES_NAME LSq6491_2
  SERIES_NAME LSq6470_1
  SERIES_NAME LSq6470_2
  SERIES_NAME LSq6500_1
  SERIES_NAME LSq6500_2
  SERIES_NAME LSq6540_2
  SERIES_NAME LSq7948_1
  SERIES_NAME LSq7948_2
  SERIES_NAME LSq65145_2
  SERIES_NAME LSq65199_1
  SERIES_NAME Sstruax_1
  SERIES_NAME Sstruax_2
  SERIES_NAME Ssolrad_2
  SERIES_NAME SEThay_2
  SERIES_FORMAT long
END LIST_OUTPUT

###########################################################################
# Write PEST input files
###########################################################################

START WRITE_PEST_FILES
  CONTEXT pest_input
  NEW_PEST_CONTROL_FILE cal_bec_group2.pst
  AUTOMATIC_USER_INTERVENTION no
  TEMPLATE_FILE BEC_par2par_9JUNE2009.tpl
  MODEL_INPUT_FILE BEC_par2par_9JUN2009.dat
  PARAMETER_DATA_FILE PEST_parameters_BEC_9JUNE2009.txt
  PARAMETER_GROUP_FILE parameter_groups.txt
  NEW_INSTRUCTION_FILE cal_bec_group2.ins

  OBSERVATION_V_TABLE_NAME AOq6500
  MODEL_V_TABLE_NAME ASq6500
  V_TABLE_WEIGHTS_EQUATION 9.6

  OBSERVATION_V_TABLE_NAME AOq6470
  MODEL_V_TABLE_NAME ASq6470
  V_TABLE_WEIGHTS_EQUATION 9.6

  OBSERVATION_V_TABLE_NAME AOq6491
  MODEL_V_TABLE_NAME ASq6491
  V_TABLE_WEIGHTS_EQUATION 9.6

  OBSERVATION_V_TABLE_NAME AOq6540
  MODEL_V_TABLE_NAME ASq6540
  V_TABLE_WEIGHTS_EQUATION 9.6

  OBSERVATION_V_TABLE_NAME AOq7948
  MODEL_V_TABLE_NAME ASq7948
  V_TABLE_WEIGHTS_EQUATION 9.6

  OBSERVATION_V_TABLE_NAME AOq65145
  MODEL_V_TABLE_NAME ASq65145
  V_TABLE_WEIGHTS_EQUATION 9.6

  OBSERVATION_V_TABLE_NAME AOq65199
  MODEL_V_TABLE_NAME ASq65199
  V_TABLE_WEIGHTS_EQUATION 9.6

  OBSERVATION_V_TABLE_NAME MOq6500
  MODEL_V_TABLE_NAME MSq6500
  V_TABLE_WEIGHTS_EQUATION 2.8

  OBSERVATION_V_TABLE_NAME MOq6470
  MODEL_V_TABLE_NAME MSq6470
  V_TABLE_WEIGHTS_EQUATION 2.8

  OBSERVATION_V_TABLE_NAME MOq6491
  MODEL_V_TABLE_NAME MSq6491
  V_TABLE_WEIGHTS_EQUATION 2.8

  OBSERVATION_V_TABLE_NAME MOq6540
  MODEL_V_TABLE_NAME MSq6540
  V_TABLE_WEIGHTS_EQUATION 2.8

  OBSERVATION_V_TABLE_NAME MOq7948
  MODEL_V_TABLE_NAME MSq7948
  V_TABLE_WEIGHTS_EQUATION 2.8

  OBSERVATION_V_TABLE_NAME MOq65145
  MODEL_V_TABLE_NAME MSq65145
  V_TABLE_WEIGHTS_EQUATION 2.8

  OBSERVATION_V_TABLE_NAME MOq65199
  MODEL_V_TABLE_NAME MSq65199
  V_TABLE_WEIGHTS_EQUATION 2.8

  OBSERVATION_SERIES_NAME Oq6491_1
  MODEL_SERIES_NAME Sq6491_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq6491_2
  MODEL_SERIES_NAME Sq6491_2
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq6470_1
  MODEL_SERIES_NAME Sq6470_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq6470_2
  MODEL_SERIES_NAME Sq6470_2
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq6500_1
  MODEL_SERIES_NAME Sq6500_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq6500_2
  MODEL_SERIES_NAME Sq6500_2
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq6540_2
  MODEL_SERIES_NAME Sq6540_2
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq7948_1
  MODEL_SERIES_NAME Sq7948_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq7948_2
  MODEL_SERIES_NAME Sq7948_2
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq65145_2
  MODEL_SERIES_NAME Sq65145_2
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Oq65199_1
  MODEL_SERIES_NAME Sq65199_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME LOq6491_1
  MODEL_SERIES_NAME LSq6491_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME LOq6491_2
  MODEL_SERIES_NAME LSq6491_2
  SERIES_WEIGHTS_EQUATION 7.7

  OBSERVATION_SERIES_NAME LOq6470_1
  MODEL_SERIES_NAME LSq6470_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME LOq6470_2
  MODEL_SERIES_NAME LSq6470_2
  SERIES_WEIGHTS_EQUATION 7.7

  OBSERVATION_SERIES_NAME LOq6500_1
  MODEL_SERIES_NAME LSq6500_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME LOq6500_2
  MODEL_SERIES_NAME LSq6500_2
  SERIES_WEIGHTS_EQUATION 7.7

  OBSERVATION_SERIES_NAME LOq6540_2
  MODEL_SERIES_NAME LSq6540_2
  SERIES_WEIGHTS_EQUATION 7.7

  OBSERVATION_SERIES_NAME LOq7948_1
  MODEL_SERIES_NAME LSq7948_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME LOq7948_2
  MODEL_SERIES_NAME LSq7948_2
  SERIES_WEIGHTS_EQUATION 7.7

  OBSERVATION_SERIES_NAME LOq65145_2
  MODEL_SERIES_NAME LSq65145_2
  SERIES_WEIGHTS_EQUATION 7.7

  OBSERVATION_SERIES_NAME LOq65199_1
  MODEL_SERIES_NAME LSq65199_1
  SERIES_WEIGHTS_EQUATION 7.7

  OBSERVATION_SERIES_NAME Ostruax_1
  MODEL_SERIES_NAME Sstruax_1
  SERIES_WEIGHTS_EQUATION 0.0

  OBSERVATION_SERIES_NAME Ostruax_2
  MODEL_SERIES_NAME Sstruax_2
  SERIES_WEIGHTS_EQUATION 1.0

  OBSERVATION_SERIES_NAME Osolrad_2
  MODEL_SERIES_NAME Ssolrad_2
  SERIES_WEIGHTS_EQUATION 0.1

  OBSERVATION_SERIES_NAME OEThay_2
  MODEL_SERIES_NAME SEThay_2
  SERIES_WEIGHTS_EQUATION 0.125

  MODEL_COMMAND_LINE prms.bat

END WRITE_PEST_FILES
